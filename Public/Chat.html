<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yoh!Chat</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Remix Icons -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet"/>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">

  <div class="container-fluid vh-100 d-flex flex-column p-3">
    <div class="row g-3 flex-grow-1">
      
      <!-- Sidebar -->
      <aside class="col-12 col-md-3">
        <div class="card h-100 shadow-sm">
          <div class="card-header d-flex justify-content-center align-items-center bg-dark">
            <h5 class="mb-0 text-light"><i class="ri-base-station-fill"></i> Online</h5>
          </div>

          <div class="card-body d-flex flex-column p-2 bg-secondary">
            <div class="join-section mb-3">
              <div class="input-group">
                <input id="sender" class="form-control" type="text" placeholder="Your name" />
                <button class="btn btn-primary" type="button" id="joinBtn" onclick="joinChat()">Join</button>
              </div>
            </div>

            <div class="user-list flex-grow-1 overflow-auto bg-dark">
              <ul id="onlineUsers" class="list-group list-group-flush bg-secondary text-light"></ul>
            </div>
          </div>
        </div>
      </aside>

      <!-- Chat Area -->
      <main class="col-12 col-md-9 d-flex flex-column">
        <div class="card shadow-sm flex-grow-1 d-flex flex-column">
          <div class="card-header bg-dark d-flex align-items-center justify-content-between">
            <button class="btn btn-outline-secondary" type="button" id="backToPublicBtn" onclick="switchToPublic()" title="Back">
              ‚Üê
            </button>
            <h3 class="mb-0 text-light">YOH! <i class="ri-chat-smile-ai-line"></i></h3>
            <span id="currentChatLabel" class="badge bg-secondary">Public Room</span>
          </div>

          <div class="card-body bg-dark p-3 d-flex flex-column gap-2 flex-grow-1 overflow-hidden">
            <div id="messages" class="messages-list list-unstyled flex-grow-1 overflow-auto p-2 bg-secondary text-light rounded border"></div>
            <div id="typingIndicator" class="text-muted small"></div>

            <form id="messageForm" class="d-flex gap-2 align-items-center mt-2" onsubmit="event.preventDefault(); sendMessage();">
              <input id="messageInput" class="form-control" type="text" placeholder="Type your message..." autocomplete="off" />
              <button class="btn btn-success rounded-circle d-flex justify-content-center align-items-center" type="submit">
                <i class="ri-send-plane-2-fill"></i>
              </button>
            </form>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="./Assets/js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
